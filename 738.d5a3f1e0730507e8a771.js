(self.webpackChunkreact_router_ultimate_burgers=self.webpackChunkreact_router_ultimate_burgers||[]).push([[738],{156:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r})},738:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r,a=n(156),c=n(137),o=n(699),u=n(465),i=n(757),s=n.n(i),p=n(294),f=n(974),d=n(206),l=n(262);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=(0,d.iv)(r||(r=(0,u.Z)(["\n  color: #fff;\n  background: #2a2c37;\n  border-radius: 6px;\n  padding: 15px;\n  .ProductEdit {\n    &-Input {\n      width: 100%;\n      border: 1px solid transparent;\n      color: #fff;\n      background: #1d1e26;\n      padding: 10px 15px;\n      margin-bottom: 5px;\n      border-radius: 6px;\n      outline: 0;\n      &:focus {\n        border-color: #50fa7b;\n      }\n    }\n    &-Textarea {\n      min-height: 80px;\n      resize: none;\n    }\n    &-Button {\n      border: 2px solid #50fa7b;\n      color: #50fa7b;\n      background: none;\n      padding: 10px 15px;\n      border-radius: 6px;\n      outline: 0;\n      cursor: pointer;\n      font-weight: 600;\n      text-transform: uppercase;\n    }\n  }\n"])));const v=function(e){var t=e.isEdit,n=(0,f.UO)().id,r=(0,f.s0)(),u=(0,p.useState)(null),i=(0,o.Z)(u,2),d=i[0],m=i[1];(0,p.useEffect)((function(){t?(0,c.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.YZ)(n);case 3:t=e.sent,m(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0),r("/admin",{replace:!0});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))():m({id:"",name:"",price:0,description:""})}),[n]);var v=function(e){var t=e.name,n=e.value;m(h(h({},d),{},(0,a.Z)({},t,n)))},w=function(){var e=(0,c.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.ry)(d);case 3:t=e.sent,n=t.id,r("/admin/".concat(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=(0,c.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.nM)(d);case 3:alert("Updated ".concat(d.name)),r("/admin"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,c.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Really delete ".concat(d.name,"?"))){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,l.Ir)(d.id);case 5:r("/admin"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.warn(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return null===d?p.createElement("div",null,"Loading..."):p.createElement("form",{className:b},p.createElement("input",{type:"text",name:"id",placeholder:"ID",className:"ProductEdit-Input",value:d.id,onChange:function(e){var t=e.target;return v(t)}}),p.createElement("input",{type:"text",name:"name",placeholder:"Name",className:"ProductEdit-Input",value:d.name,onChange:function(e){var t=e.target;return v(t)}}),p.createElement("input",{type:"text",name:"price",placeholder:"Price",className:"ProductEdit-Input",value:d.price,onChange:function(e){var t=e.target;return v({name:t.name,value:parseInt(t.value,10)})}}),p.createElement("textarea",{name:"description",placeholder:"Description",className:"ProductEdit-Input ProductEdit-Textarea",value:d.description,onChange:function(e){var t=e.target;return v(t)}}),!t&&p.createElement("button",{type:"button",className:"ProductEdit-Button",onClick:w},"Create"),t&&p.createElement("button",{type:"button",className:"ProductEdit-Button",onClick:x},"Update"),t&&p.createElement("button",{type:"button",className:"ProductEdit-Button",onClick:g},"Delete"))}},262:(e,t,n)=>{"use strict";n.d(t,{tr:()=>o,ry:()=>u,YZ:()=>i,nM:()=>s,Ir:()=>p});var r=n(137),a=n(757),c=n.n(a),o=function(){var e=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/products");case 2:if(!(t=e.sent).ok){e.next=7;break}return e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:throw new Error("Something went wrong");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:if(!(n=e.sent).ok){e.next=7;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:throw new Error("Something went wrong");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/products/".concat(t));case 2:if(!(n=e.sent).ok){e.next=7;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:throw new Error("Something went wrong");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/products/".concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:if(!(n=e.sent).ok){e.next=7;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:throw new Error("Something went wrong");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=fetch("/api/products/".concat(t),{method:"DELETE"})).ok){e.next=5;break}return e.next=4,n.json();case 4:return e.abrupt("return",e.sent);case 5:throw new Error("Something went wrong");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=738.d5a3f1e0730507e8a771.js.map